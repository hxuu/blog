<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ingeneer25 (Problem Solving) - The Unseen Curse | hxuu</title>
<meta name=keywords content="ctf,write-up,problem-solving"><meta name=description content="Challenge write-up for The Unseen Curse, problem solving challenge."><meta name=author content="hxuu"><link rel=canonical href=https://hxuu.github.io/blog/ctf/ingeneer25/the-unseen-curse/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.a9de69711750554b5ca1926546c46a763ce30e0caa50cf5d86499b3b035e42bf.css integrity="sha256-qd5pcRdQVUtcoZJlRsRqdjzjDgyqUM9dhkmbOwNeQr8=" rel="preload stylesheet" as=style><link rel=icon href=https://hxuu.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://hxuu.github.io/blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hxuu.github.io/blog/favicon-32x32.png><link rel=apple-touch-icon href=https://hxuu.github.io/blog/apple-touch-icon.png><link rel=mask-icon href=https://hxuu.github.io/blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hxuu.github.io/blog/ctf/ingeneer25/the-unseen-curse/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://hxuu.github.io/blog/ctf/ingeneer25/the-unseen-curse/"><meta property="og:site_name" content="hxuu"><meta property="og:title" content="Ingeneer25 (Problem Solving) - The Unseen Curse"><meta property="og:description" content="Challenge write-up for The Unseen Curse, problem solving challenge."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="ctf"><meta property="article:published_time" content="2025-05-22T19:59:22+01:00"><meta property="article:modified_time" content="2025-05-22T19:59:22+01:00"><meta property="article:tag" content="Ctf"><meta property="article:tag" content="Write-Up"><meta property="article:tag" content="Problem-Solving"><meta property="og:image" content="https://hxuu.github.io/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hxuu.github.io/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Ingeneer25 (Problem Solving) - The Unseen Curse"><meta name=twitter:description content="Challenge write-up for The Unseen Curse, problem solving challenge."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ctfs","item":"https://hxuu.github.io/blog/ctf/"},{"@type":"ListItem","position":2,"name":"Ingeneer25 (Problem Solving) - The Unseen Curse","item":"https://hxuu.github.io/blog/ctf/ingeneer25/the-unseen-curse/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ingeneer25 (Problem Solving) - The Unseen Curse","name":"Ingeneer25 (Problem Solving) - The Unseen Curse","description":"Challenge write-up for The Unseen Curse, problem solving challenge.","keywords":["ctf","write-up","problem-solving"],"articleBody":" Challenge Name: The Unseen Curse Category: Problem Solving Author: hxuu Difficulty: Tough Tags: pure logic, tough Challenge Description During a clandestine lesson in the Forbidden Forest, Professor Moody gathers the apprentices for a test of perception and logic.\n“Among these ancient trees, some bear the Phantom Mark—a dark sigil invisible to the one who stands beneath it. Each of you will be assigned a tree, but you cannot see your own. Look around: How many marks do you see?”\nAlice counts A marked trees. Bob counts B marked trees. The total number of marks, T, is either X or Y (X \u003c Y), but neither knows for sure.\nThe Ritual of Declaration: Each night, the professor asks the apprentices in Turn:\n“Is the true number of marks X or Y?”\nIf an apprentice can logically deduce the answer, they must declare it at midnight. If not, the ritual repeats.\nYour Task: Given A, B, X, and Y, determine the minimum number of nights before one apprentice can conclusively declare the true count.\nInput Format:\nLine 1: Two integers A and B (0 ≤ A, B ≤ 10^9) Line 2: Two integers X and Y (1 ≤ X \u003c Y ≤ 10^18) Output Format:\nA single integer: the number of nights required. The flag is forged from the answers to hidden trials, wrapped in 1ng3neer2k25{}.\nInitial Analysis This challenge presents a variation of the Muddy Children epistemic logic puzzle, cloaked in a magical narrative.\nAlice and Bob each see a number of trees, independent of one another. No one knows how many trees the other sees. The total number of trees is T which is equal to A + B Each night, they are asked if they can determine whether the true total is X or Y. If neither can be certain, the professor asks again the next night. This process continues until one of them is logically certain and makes a declaration.\nThe puzzle is fundamentally about logical inference over time, based on:\nWhat each person sees What each person knows the other sees What each person knows the other knows, and so on. This is a classic common knowledge puzzle, where the lack of an answer over time becomes new information.\nIf you feel I threw a lot of new terms, here is a good lecture about epistemic logic and types of knowledge.\nTask Analysis We are given:\nA and B: the number of trees seen by Alice and Bob. X and Y: the two possible values for the total number of marked trees. Our goal is to determine the minimum number of nights before either Alice or Bob can logically deduce whether the true (i.e. total) number of trees is X or Y.\nInput: Line 1: A B # integers: how many trees Alice and Bob see Line 2: X Y # integers: possible values for total number of trees ...etc Output (for a single test case): One integer: the minimum number of nights before one of them deduces the correct total For example, if Alice sees 12 marks, Bob sees 8 marks, and the possible totals are 18 and 20, then we want to find out how many nights pass before one of them can definitively declare that the true total is, say, 20.\nSolve The challenge is solved using a simulation that alternates deduction attempts between Alice and Bob, is simpler words: We pretend to be Alice and Bob, see how we do (can or cannot answer and why?) and reach the target night.\nHere’s the core logic, implemented in Python:\ndef nights_simulation(A=12, B=8, X=18, Y=20): if X == Y: return \"1\" nights = 1 atleast = 0 utmost = Y delta = Y - X while nights \u003c= 30: # Alice tries to deduce if utmost - delta + 1 \u003c= A \u003c= utmost: return str(nights) # Alice can deduce else: utmost -= delta # Alice fails, Bob gains knowledge # Bob tries to deduce if atleast \u003c= B \u003c= atleast + delta - 1: return str(nights) # Bob can deduce else: atleast += delta # Bob fails, Alice gains knowledge nights += 1 return \"-1\" # No conclusion reached within 30 nights How It Works: At the 1st night, Alice is asked whether she sees 18 or 20 trees. Had she seen 19 or 20, she would’ve answered 20, but she only sees 12, so she passes.\nBob, having known that Alice’s passing results in her seeing at most 18 trees, would be able to answer if he sees 0 or 1 trees in total (0+18 = 18, 1+17 = 18 =\u003e answer is 18)\nAt the 2nd night, Alice is asked again. Now she knows bob couldn’t have seen 0 or 1, he must’ve seen AT LEAST 2. Armed with this knowledge, she would’ve answered 20 if she had either 18 or 17 (but not 16!). Alice sees 12 though, so she passes.\nBob, having known that Alice’s passing results in her seeing at most 16 trees, would be able to answer if he sees 2 or 3 trees in total (2+16 = 18, 3+15 = 18 =\u003e answer is 18)\nDo you notice the pattern? Here it is:\nEach night, the current player sees if he can answer\nThe passing (failure to declare) of one player is an implicit message to the other that eliminates certain worlds from existence (world where Alice has 19 or 20 in night 1).\nOver time, this silent communication builds up into logical certainty, and one player can make a declaration.\nutmost and atleast represent shrinking bounds for each player’s certainty window.\nOver time, the failure to deduce becomes information — if Alice doesn’t speak up on night 1, Bob learns something new about what Alice must have seen.\nEventually, someone can eliminate one possibility and declare the truth.\nBatch Evaluation and Flag Generation To solve multiple test cases and derive the final flag, the script reads inputs in pairs from a file (the-unseen-curse.txt):\nif __name__ == \"__main__\": with open(\"../files/the-unseen-curse.txt\") as f: lines = [line.strip() for line in f if line.strip()] assert len(lines) % 2 == 0 results = [] for i in range(0, len(lines), 2): A, B = map(int, lines[i].split()) X, Y = map(int, lines[i + 1].split()) if X \u003e Y: X, Y = Y, X result = new_reasoning_solver(A, B, X, Y) results.append(result) print(\"flag:\", f\"1ng3neer2k25{{{''.join(results)}}}\") Each result becomes a digit in the final flag. then the final flag is: 1ng3neer2k25{5211322412311434132}\nSummary This challenge masterfully blends deductive logic, iterative inference, and a compelling magical narrative. It requires understanding how knowledge propagates in rounds and how silence becomes information. By modeling the interactions over successive nights, we compute the precise moment someone can break the uncertainty and solve the puzzle.\n","wordCount":"1122","inLanguage":"en","image":"https://hxuu.github.io/blog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-05-22T19:59:22+01:00","dateModified":"2025-05-22T19:59:22+01:00","author":{"@type":"Person","name":"hxuu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hxuu.github.io/blog/ctf/ingeneer25/the-unseen-curse/"},"publisher":{"@type":"Organization","name":"hxuu","logo":{"@type":"ImageObject","url":"https://hxuu.github.io/blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hxuu.github.io/blog/ accesskey=h title="hxuu (Alt + H)"><img src=https://hxuu.github.io/apple-touch-icon.png alt aria-label=logo height=35>hxuu</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hxuu.github.io/blog/ctf/ title=CTFs><span>CTFs</span></a></li><li><a href=https://hxuu.github.io/blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://hxuu.github.io/blog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://github.com/hxuu title="About Me"><span>About Me</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hxuu.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://hxuu.github.io/blog/ctf/>Ctfs</a></div><h1 class="post-title entry-hint-parent">Ingeneer25 (Problem Solving) - The Unseen Curse</h1><div class=post-description>Challenge write-up for The Unseen Curse, problem solving challenge.</div><div class=post-meta><span title='2025-05-22 19:59:22 +0100 +0100'>May 22, 2025</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;hxuu&nbsp;|&nbsp;<a href=https://github.com/hxuu/content/ctf/ingeneer25/the-unseen-curse.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#challenge-description>Challenge Description</a></li><li><a href=#initial-analysis>Initial Analysis</a></li><li><a href=#task-analysis>Task Analysis</a><ul><li><a href=#input>Input:</a></li><li><a href=#output-for-a-single-test-case>Output (for a single test case):</a></li></ul></li><li><a href=#solve>Solve</a><ul><li><a href=#how-it-works>How It Works:</a></li><li><a href=#batch-evaluation-and-flag-generation>Batch Evaluation and Flag Generation</a></li><li><a href=#summary>Summary</a></li></ul></li></ul></nav></div></details></div><div class=post-content><ul><li>Challenge Name: The Unseen Curse</li><li>Category: Problem Solving</li><li>Author: hxuu</li><li>Difficulty: Tough</li><li>Tags: <code>pure logic</code>, <code>tough</code></li></ul><h2 id=challenge-description>Challenge Description<a hidden class=anchor aria-hidden=true href=#challenge-description>#</a></h2><p>During a clandestine lesson in the Forbidden Forest, Professor Moody gathers the apprentices for a test of perception and logic.</p><blockquote><p><em>&ldquo;Among these ancient trees, some bear the Phantom Mark—a dark sigil invisible to the one who stands beneath it. Each of you will be assigned a tree, but you cannot see your own. Look around: How many marks do you see?&rdquo;</em></p></blockquote><ul><li><strong>Alice</strong> counts <strong>A</strong> marked trees.</li><li><strong>Bob</strong> counts <strong>B</strong> marked trees.</li></ul><p>The total number of marks, <strong>T</strong>, is either <strong>X</strong> or <strong>Y</strong> (X &lt; Y), but neither knows for sure.</p><p><strong>The Ritual of Declaration:</strong>
Each night, the professor asks the apprentices in Turn:</p><blockquote><p><em>&ldquo;Is the true number of marks <strong>X</strong> or <strong>Y</strong>?&rdquo;</em></p></blockquote><p>If an apprentice can logically deduce the answer, they must declare it at midnight. If not, the ritual repeats.</p><p><strong>Your Task:</strong>
Given <strong>A</strong>, <strong>B</strong>, <strong>X</strong>, and <strong>Y</strong>, determine the <strong>minimum number of nights</strong> before one apprentice can conclusively declare the true count.</p><p><strong>Input Format:</strong></p><ul><li>Line 1: Two integers <strong>A</strong> and <strong>B</strong> (0 ≤ A, B ≤ 10^9)</li><li>Line 2: Two integers <strong>X</strong> and <strong>Y</strong> (1 ≤ X &lt; Y ≤ 10^18)</li></ul><p><strong>Output Format:</strong></p><ul><li>A single integer: the number of nights required.</li></ul><blockquote><p><em>The flag is forged from the answers to hidden trials, wrapped in <code>1ng3neer2k25{}</code>.</em></p></blockquote><hr><h2 id=initial-analysis>Initial Analysis<a hidden class=anchor aria-hidden=true href=#initial-analysis>#</a></h2><p>This challenge presents a variation of the <em>Muddy Children</em> epistemic logic puzzle, cloaked in a magical narrative.</p><ul><li>Alice and Bob each see a number of trees, independent of one another.</li><li>No one knows how many trees the other sees.</li><li>The total number of trees is <code>T</code> which is equal to <code>A + B</code></li></ul><p>Each night, they are asked if they can determine whether the true total is <strong>X</strong> or <strong>Y</strong>.
If neither can be certain, the professor asks again the next night. This process continues until one of them is logically certain and makes a declaration.</p><p>The puzzle is fundamentally about <strong>logical inference over time</strong>, based on:</p><ul><li><strong>What each person sees</strong></li><li><strong>What each person knows the other sees</strong></li><li><strong>What each person knows the other knows</strong>, and so on.</li></ul><p>This is a classic <strong>common knowledge puzzle</strong>, where the lack of an answer over time becomes <strong>new information</strong>.</p><blockquote><p>If you feel I threw a lot of new terms, <a href="https://www.youtube.com/watch?v=KVOpXJZWLC4&amp;t=796s">here</a> is a good lecture about epistemic logic and types of knowledge.</p></blockquote><hr><h2 id=task-analysis>Task Analysis<a hidden class=anchor aria-hidden=true href=#task-analysis>#</a></h2><p>We are given:</p><ul><li><strong>A</strong> and <strong>B</strong>: the number of trees seen by Alice and Bob.</li><li><strong>X</strong> and <strong>Y</strong>: the two possible values for the total number of marked trees.</li></ul><p>Our goal is to determine the <strong>minimum number of nights</strong> before <strong>either Alice or Bob</strong> can logically deduce
whether the true (i.e. total) number of trees is <code>X</code> or <code>Y</code>.</p><h3 id=input>Input:<a hidden class=anchor aria-hidden=true href=#input>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Line 1: A B      <span class=c1># integers: how many trees Alice and Bob see</span>
</span></span><span class=line><span class=cl>Line 2: X Y      <span class=c1># integers: possible values for total number of trees</span>
</span></span><span class=line><span class=cl>...etc
</span></span></code></pre></div><h3 id=output-for-a-single-test-case>Output (for a single test case):<a hidden class=anchor aria-hidden=true href=#output-for-a-single-test-case>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>One integer: the minimum number of nights before one of them deduces the correct total
</span></span></code></pre></div><p>For example, if Alice sees 12 marks, Bob sees 8 marks, and the possible totals are 18 and 20,
then we want to find out how many nights pass before one of them can definitively declare that the true total is, say, 20.</p><hr><h2 id=solve>Solve<a hidden class=anchor aria-hidden=true href=#solve>#</a></h2><p>The challenge is solved using a simulation that alternates deduction attempts between Alice and Bob,
is simpler words: We pretend to be Alice and Bob, see how we do (can or cannot answer and why?) and reach the target night.</p><p>Here&rsquo;s the core logic, implemented in Python:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>nights_simulation</span><span class=p>(</span><span class=n>A</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span> <span class=n>B</span><span class=o>=</span><span class=mi>8</span><span class=p>,</span> <span class=n>X</span><span class=o>=</span><span class=mi>18</span><span class=p>,</span> <span class=n>Y</span><span class=o>=</span><span class=mi>20</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>X</span> <span class=o>==</span> <span class=n>Y</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>nights</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>atleast</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>utmost</span> <span class=o>=</span> <span class=n>Y</span>
</span></span><span class=line><span class=cl>    <span class=n>delta</span> <span class=o>=</span> <span class=n>Y</span> <span class=o>-</span> <span class=n>X</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>nights</span> <span class=o>&lt;=</span> <span class=mi>30</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># Alice tries to deduce</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>utmost</span> <span class=o>-</span> <span class=n>delta</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>&lt;=</span> <span class=n>A</span> <span class=o>&lt;=</span> <span class=n>utmost</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>nights</span><span class=p>)</span>  <span class=c1># Alice can deduce</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>utmost</span> <span class=o>-=</span> <span class=n>delta</span>  <span class=c1># Alice fails, Bob gains knowledge</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># Bob tries to deduce</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>atleast</span> <span class=o>&lt;=</span> <span class=n>B</span> <span class=o>&lt;=</span> <span class=n>atleast</span> <span class=o>+</span> <span class=n>delta</span> <span class=o>-</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>nights</span><span class=p>)</span>  <span class=c1># Bob can deduce</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>atleast</span> <span class=o>+=</span> <span class=n>delta</span>  <span class=c1># Bob fails, Alice gains knowledge</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>nights</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;-1&#34;</span>  <span class=c1># No conclusion reached within 30 nights</span>
</span></span></code></pre></div><h3 id=how-it-works>How It Works:<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h3><ul><li><p>At the 1st night, Alice is asked whether she sees 18 or 20 trees. Had she seen 19 or 20, she would&rsquo;ve answered 20, but she only sees 12, so she passes.</p></li><li><p>Bob, having known that Alice&rsquo;s passing results in her seeing at most 18 trees, would be able to answer if he sees 0 or 1 trees in total (0+18 = 18, 1+17 = 18 => answer is 18)</p></li><li><p>At the 2nd night, Alice is asked again. Now she knows bob couldn&rsquo;t have seen 0 or 1, he must&rsquo;ve seen AT LEAST 2. Armed with this knowledge, she would&rsquo;ve answered 20 if she had either 18 or 17 (but not 16!). Alice sees 12 though, so she passes.</p></li><li><p>Bob, having known that Alice&rsquo;s passing results in her seeing at most 16 trees, would be able to answer if he sees 2 or 3 trees in total (2+16 = 18, 3+15 = 18 => answer is 18)</p></li></ul><p>Do you notice the pattern? Here it is:</p><ul><li><p>Each night, the current player sees if he can answer</p></li><li><p>The passing (failure to declare) of one player is an implicit message to the other that eliminates certain worlds from existence (world where Alice has 19 or 20 in night 1).</p></li><li><p>Over time, this silent communication builds up into logical certainty, and one player can make a declaration.</p></li><li><p><code>utmost</code> and <code>atleast</code> represent shrinking bounds for each player&rsquo;s certainty window.</p></li><li><p>Over time, <strong>the failure to deduce becomes information</strong> — if Alice doesn&rsquo;t speak up on night 1, Bob learns something new about what Alice must have seen.</p></li><li><p>Eventually, someone can eliminate one possibility and declare the truth.</p></li></ul><h3 id=batch-evaluation-and-flag-generation>Batch Evaluation and Flag Generation<a hidden class=anchor aria-hidden=true href=#batch-evaluation-and-flag-generation>#</a></h3><p>To solve multiple test cases and derive the final flag, the script reads inputs in pairs from a file (<code>the-unseen-curse.txt</code>):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;../files/the-unseen-curse.txt&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>lines</span> <span class=o>=</span> <span class=p>[</span><span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span> <span class=k>if</span> <span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=n>lines</span><span class=p>)</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>lines</span><span class=p>),</span> <span class=mi>2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>A</span><span class=p>,</span> <span class=n>B</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=n>lines</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=n>X</span><span class=p>,</span> <span class=n>Y</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=n>lines</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>X</span> <span class=o>&gt;</span> <span class=n>Y</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>X</span><span class=p>,</span> <span class=n>Y</span> <span class=o>=</span> <span class=n>Y</span><span class=p>,</span> <span class=n>X</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>result</span> <span class=o>=</span> <span class=n>new_reasoning_solver</span><span class=p>(</span><span class=n>A</span><span class=p>,</span> <span class=n>B</span><span class=p>,</span> <span class=n>X</span><span class=p>,</span> <span class=n>Y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;flag:&#34;</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&#34;1ng3neer2k25</span><span class=se>{{</span><span class=si>{</span><span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>results</span><span class=p>)</span><span class=si>}</span><span class=se>}}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Each result becomes a digit in the final flag. then the final flag is: <code>1ng3neer2k25{5211322412311434132}</code></p><hr><h3 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h3><p>This challenge masterfully blends <strong>deductive logic</strong>, <strong>iterative inference</strong>, and a compelling magical narrative. It requires understanding how knowledge propagates in rounds and how silence becomes information. By modeling the interactions over successive nights, we compute the precise moment someone can break the uncertainty and solve the puzzle.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://hxuu.github.io/blog/tags/ctf/>Ctf</a></li><li><a href=https://hxuu.github.io/blog/tags/write-up/>Write-Up</a></li><li><a href=https://hxuu.github.io/blog/tags/problem-solving/>Problem-Solving</a></li></ul><nav class=paginav><a class=prev href=https://hxuu.github.io/blog/ctf/n0ps25/casinops/><span class=title>« Prev</span><br><span>N0PS25: Writeup for Web/CasinOps</span>
</a><a class=next href=https://hxuu.github.io/blog/ctf/dice25/pyramid/><span class=title>Next »</span><br><span>Dice25: Writeup for web/pyramid</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on x" href="https://x.com/intent/tweet/?text=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse&amp;url=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f&amp;hashtags=ctf%2cwrite-up%2cproblem-solving"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f&amp;title=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse&amp;summary=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse&amp;source=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f&title=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on whatsapp" href="https://api.whatsapp.com/send?text=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse%20-%20https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on telegram" href="https://telegram.me/share/url?text=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse&amp;url=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Ingeneer25 (Problem Solving) - The Unseen Curse on ycombinator" href="https://news.ycombinator.com/submitlink?t=Ingeneer25%20%28Problem%20Solving%29%20-%20The%20Unseen%20Curse&u=https%3a%2f%2fhxuu.github.io%2fblog%2fctf%2fingeneer25%2fthe-unseen-curse%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://hxuu.github.io/blog/>hxuu</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>